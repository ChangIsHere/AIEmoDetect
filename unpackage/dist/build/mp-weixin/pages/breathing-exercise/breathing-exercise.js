"use strict";const e=require("../../common/vendor.js");if(!Array){e.resolveComponent("uni-icons")()}const l=e.defineComponent(new UTSJSONObject({__name:"breathing-exercise",setup(l){const t=e.ref(0),n=e.ref("点击开始练习按钮"),o=e.ref(!1),a=e.ref(!1),u=e.ref(!1),c=e.ref(0),i=e.ref(6);let r=null,v=null;const s=[new UTSJSONObject({action:"吸气",duration:4}),new UTSJSONObject({action:"呼气",duration:4})];let O=0;function S(){console.log("startBreathing button clicked"),o.value=!0,p()}function f(){console.log("stopBreathing button clicked"),o.value=!1,clearInterval(v),clearTimeout(r),t.value=0,n.value="练习已暂停",a.value=!1,u.value=!1}function g(){console.log("resetExercise button clicked"),f(),c.value=0,O=0,n.value="点击开始练习按钮"}function d(){console.log("exitExercise button clicked. Attempting to redirect to pages/pages3/pages3"),e.index.redirectTo({url:"/pages/pages3/pages3"})}function p(){if(!o.value)return console.log("executeBreathingStep not running"),null;const e=s[O];n.value=e.action,t.value=e.duration,console.log(`Executing step: ${e.action}, duration: ${e.duration}, countdown: ${t.value}`),a.value="吸气"===e.action,u.value="呼气"===e.action,console.log(`isBreathingIn: ${a.value}, isBreathingOut: ${u.value}`),clearInterval(v),v=setInterval((()=>{if(t.value--,console.log(`Countdown: ${t.value}`),t.value<=0){if(clearInterval(v),O++,O>=s.length&&(O=0,c.value++,console.log(`Completed sets: ${c.value}`),c.value>=i.value))return console.log("All sets completed!"),f(),n.value="恭喜，所有练习已完成！",null;r=setTimeout(p,1e3)}}),1e3)}return e.onLoad((()=>{console.log("Breathing Exercise Page: onLoad triggered.")})),e.onUnmounted((()=>{console.log("onUnmounted called, stopping breathing"),f()})),(l=null,r=null)=>e.e(new UTSJSONObject({a:e.t(t.value),b:e.n(new UTSJSONObject({"breathe-in":a.value,"breathe-out":u.value})),c:e.t(n.value),d:o.value||c.value>0}),o.value||c.value>0?new UTSJSONObject({e:e.t(c.value),f:e.t(i.value),g:c.value/i.value*100+"%"}):new UTSJSONObject({}),new UTSJSONObject({h:!o.value&&0===c.value}),o.value||0!==c.value?o.value?new UTSJSONObject({l:e.p(new UTSJSONObject({type:"pause-filled",size:"24",color:"#fff"})),m:e.o(f)}):c.value>0&&c.value<i.value?new UTSJSONObject({o:e.p(new UTSJSONObject({type:"play-filled",size:"24",color:"#fff"})),p:e.o(S)}):c.value===i.value?new UTSJSONObject({r:e.p(new UTSJSONObject({type:"redo",size:"24",color:"#fff"})),s:e.o(g)}):new UTSJSONObject({}):new UTSJSONObject({i:e.p(new UTSJSONObject({type:"play-filled",size:"24",color:"#fff"})),j:e.o(S)}),new UTSJSONObject({k:o.value,n:c.value>0&&c.value<i.value,q:c.value===i.value,t:e.p(new UTSJSONObject({type:"undo-alt",size:"24",color:"#fff"})),v:e.o(d),w:e.sei(e.gei(l,""),"view")}))}})),t=e._export_sfc(l,[["__scopeId","data-v-d0605477"]]);wx.createPage(t);
