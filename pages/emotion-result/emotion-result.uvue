<template>
	<view class="container">
		<!-- è¿”å›æŒ‰é’® -->
		<view class="back-button animate-fade-in" @tap="goBack">
			<text class="back-icon">â†</text>
			<text class="back-text">è¿”å›</text>
		</view>
		
		<!-- å¤´éƒ¨ -->
		<view class="header animate-fade-in">
			<text class="title">{{ scaleTypeTitle }}åˆ†æç»“æœ</text>
		</view>
		
		<!-- æœªç”Ÿæˆåˆ†æç»“æœæ—¶çš„ç•Œé¢ -->
		<view v-if="!showAnalysisContent" class="initial-state animate-fade-in">
			<text class="initial-text">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ç”Ÿæˆæ‚¨çš„ä¸“å±åˆ†æç»“æœ</text>
			<button 
				class="generate-button animate-bounce-in"
				:disabled="loading"
				@click="generateAnalysis"
			>
				{{ loading ? 'ç”Ÿæˆä¸­...' : 'ç”Ÿæˆåˆ†æç»“æœ' }}
			</button>
			<view class="privacy-note animate-fade-in">
				<text class="privacy-icon">ğŸ”’</text>
				<text class="privacy-text">æ•°æ®å·²åŠ å¯†ä¿å­˜ï¼Œè¯·æ”¾å¿ƒç”Ÿæˆ</text>
			</view>
		</view>

		<!-- ä¸»è¦å†…å®¹åŒºåŸŸ (ç”Ÿæˆåˆ†æç»“æœåæ˜¾ç¤º) -->
		<view v-else class="main-content animate-fade-in">
			<!-- åˆ†æç»“æœæ‘˜è¦ -->
			<view class="result-summary animate-slide-in" style="--i: 0">
				<view class="emotion-icon" :class="mainEmotion">
					<text v-if="mainEmotion === 'happy'" class="emoji">ğŸ˜Š</text>
					<text v-else-if="mainEmotion === 'sad'" class="emoji">ğŸ˜¢</text>
					<text v-else-if="mainEmotion === 'angry'" class="emoji">ğŸ˜ </text>
					<text v-else-if="mainEmotion === 'anxious'" class="emoji">ğŸ˜°</text>
					<text v-else class="emoji">ğŸ˜</text>
				</view>
				<text class="emotion-label">{{emotionLabel}}</text>
			</view>
			
			<!-- è¯„åˆ†å¡ç‰‡ -->
			<view class="score-card animate-slide-in" style="--i: 1">
				<text class="score-title">æƒ…ç»ªå¥åº·è¯„åˆ†</text>
				<view class="score-container">
					<view class="score-number">{{emotionScore}}</view>
					<view class="score-bar">
						<view class="score-progress" :style="{width: emotionScore + '%', backgroundColor: scoreColor}"></view>
					</view>
				</view>
				
				<!-- è¯„åˆ†æ ‡ç­¾ -->
				<view class="score-labels">
					<text class="low-label">ä½</text>
					<text class="mid-label">ä¸­</text>
					<text class="high-label">é«˜</text>
				</view>
			</view>
			
			<!-- æƒ…ç»ªè¯¦æƒ… -->
			<view class="details-card animate-slide-in" style="--i: 2">
				<text class="details-title">æƒ…ç»ªè¯¦ç»†åˆ†æ</text>
				<text class="details-text">{{analysisText}}</text>
			</view>
			
			<!-- å»ºè®®å¡ç‰‡ -->
			<view class="suggestion-card animate-slide-in" style="--i: 3">
				<text class="suggestion-title">å»ºè®®</text>
				<view v-for="(item, index) in suggestions" :key="index" class="suggestion-item">
					<text class="suggestion-number">{{index + 1}}</text>
					<text class="suggestion-text">{{item}}</text>
				</view>
			</view>
			
			<!-- åº•éƒ¨æŒ‰é’® -->
			<view class="bottom-buttons animate-fade-in">
				<view class="button secondary-button" @tap="shareResult">åˆ†äº«ç»“æœ</view>
				<view class="button primary-button" @tap="findProfessional">é¢„çº¦ä¸“å®¶</view>
			</view>
		</view>
	</view>
</template>

<script>
export default {
	data() {
		return {
			rawResults: null, // ä»questionnaireé¡µé¢æ¥æ”¶çš„åŸå§‹é‡è¡¨ç»“æœ
			scaleTypeTitle: '', // é‡è¡¨ç±»å‹æ ‡é¢˜ï¼Œå¦‚DASS21æˆ–PHQ9
			showAnalysisContent: false, // æ§åˆ¶æ˜¯å¦æ˜¾ç¤ºåˆ†æç»“æœéƒ¨åˆ†
			loading: false, // æ§åˆ¶ç”ŸæˆæŒ‰é’®çš„åŠ è½½çŠ¶æ€
			mainEmotion: 'neutral', // å¯ä»¥æ˜¯ï¼šhappy, sad, angry, anxious, neutral
			emotionLabel: 'å¹³é™',
			emotionScore: 65, // 0-100
			scoreColor: '#6847c2',
			analysisText: 'ç‚¹å‡»â€œç”Ÿæˆåˆ†æç»“æœâ€æŒ‰é’®è·å–æŠ¥å‘Šã€‚',
			suggestions: []
		}
	},
	onLoad(options) {
		// é€šè¿‡EventChannelæ¥æ”¶æ•°æ®
		const eventChannel = this.getOpenerEventChannel();
		eventChannel.on('acceptResultDataFromOpenerPage', (data) => {
			console.log('ä»é—®å·é¡µé¢æ¥æ”¶åˆ°ç»“æœ:', data.data);
			this.rawResults = data.data;
			
			// è®¾ç½®é‡è¡¨ç±»å‹æ ‡é¢˜
			if (this.rawResults.scaleType === 'DASS21') {
				this.scaleTypeTitle = 'DASS-21';
			} else if (this.rawResults.scaleType === 'PHQ9') {
				this.scaleTypeTitle = 'PHQ-9';
			}
		});
	},
	methods: {
		goBack() {
			uni.navigateBack();
		},
		
		// æ–°å¢ï¼šç”Ÿæˆåˆ†æç»“æœçš„æ–¹æ³•
		generateAnalysis() {
			if (this.loading) return;
			
			this.loading = true;
			uni.showLoading({ title: 'æ­£åœ¨ç”Ÿæˆåˆ†ææŠ¥å‘Š...', mask: true });
			
			// æ¨¡æ‹Ÿåç«¯å¤„ç†æ—¶é—´
			setTimeout(() => {
				uni.hideLoading();
				this.loading = false;
				this.showAnalysisContent = true; // æ˜¾ç¤ºåˆ†æå†…å®¹
				this.processAnalysisData(); // å¤„ç†å¹¶æ˜¾ç¤ºæ¨¡æ‹Ÿæ•°æ®
			}, 2000); // æ¨¡æ‹Ÿ2ç§’åŠ è½½æ—¶é—´
		},

		// å¤„ç†åˆ†ææ•°æ® (ç°åœ¨ä»rawResultsä¸­è·å–)
		processAnalysisData() {
			// å¦‚æœrawResultsä¸ºç©ºï¼Œåˆ™ç”Ÿæˆå¤‡ç”¨æ•°æ®
			if (!this.rawResults) {
				console.warn('æœªæ¥æ”¶åˆ°é‡è¡¨ç»“æœï¼Œç”Ÿæˆå¤‡ç”¨æ•°æ®ã€‚');
				this.generateFallbackData();
				return;
			}

			// æ¨¡æ‹Ÿæ ¹æ®é‡è¡¨ç»“æœç”Ÿæˆåˆ†ææ–‡æœ¬å’Œå»ºè®®
			const scaleType = this.rawResults.scaleType;
			const totalScore = this.rawResults.totalScore;

			let analysisSummary = `æ‚¨å®Œæˆäº†${scaleType}é‡è¡¨ï¼Œæ€»åˆ†ä¸º${totalScore}åˆ†ã€‚\n\n`;
			let dominantEmotion = 'neutral';
			let score = 65;
			let label = 'å¹³é™';
			let color = '#6847c2';
			let generatedSuggestions = [
				'æ ¹æ®æ‚¨çš„å›ç­”ï¼Œå»ºè®®æ‚¨å…³æ³¨æƒ…ç»ªå¥åº·ï¼Œä¿æŒç§¯æå¿ƒæ€ã€‚',
				'å°è¯•ä¸ä¿¡ä»»çš„äººåˆ†äº«æ‚¨çš„æ„Ÿå—ï¼Œå¯»æ±‚æ”¯æŒã€‚'
			];

			if (scaleType === 'DASS21') {
				// ç®€åŒ–DASS21çš„è¯„ä¼°ï¼ŒçœŸå®æƒ…å†µéœ€è¦æ›´å¤æ‚çš„é€»è¾‘
				if (totalScore >= 30) {
					dominantEmotion = 'anxious';
					score = 20;
					label = 'ä¸¥é‡ç„¦è™‘/æŠ‘éƒ/å‹åŠ›';
					color = '#FF4500';
					analysisSummary += 'æ‚¨çš„æƒ…ç»ªå¯èƒ½å¤„äºè¾ƒé«˜å‹åŠ›çŠ¶æ€ï¼Œå»ºè®®å¯»æ±‚ä¸“ä¸šå¸®åŠ©ã€‚\n';
					generatedSuggestions = [
						'å¼ºçƒˆå»ºè®®å¯»æ±‚ä¸“ä¸šå¿ƒç†å’¨è¯¢å’Œè¯„ä¼°ã€‚',
						'å­¦ä¹ å‹åŠ›ç®¡ç†æŠ€å·§ï¼Œå¦‚å†¥æƒ³ã€æ”¾æ¾ç»ƒä¹ ã€‚',
						'ç¡®ä¿å……è¶³çš„ä¼‘æ¯å’Œè§„å¾‹çš„ä½œæ¯ã€‚',
					];
				} else if (totalScore >= 15) {
					dominantEmotion = 'sad';
					score = 40;
					label = 'ä¸­åº¦ç„¦è™‘/æŠ‘éƒ/å‹åŠ›';
					color = '#FFD700';
					analysisSummary += 'æ‚¨çš„æƒ…ç»ªå¯èƒ½å­˜åœ¨ä¸€å®šç¨‹åº¦çš„æ³¢åŠ¨ï¼Œå»ºè®®ä¿æŒå…³æ³¨ã€‚\n';
					generatedSuggestions = [
						'å°è¯•ä¸äº²å‹äº¤æµï¼Œåˆ†äº«æ‚¨çš„æ„Ÿå—ã€‚',
						'è¿›è¡Œé€‚åº¦çš„ä½“è‚²é”»ç‚¼ï¼Œæœ‰åŠ©äºæ”¹å–„æƒ…ç»ªã€‚',
						'ä¿æŒå¥åº·çš„ç”Ÿæ´»ä¹ æƒ¯ï¼Œå……è¶³ç¡çœ å’Œå‡è¡¡é¥®é£Ÿã€‚',
					];
				} else {
					dominantEmotion = 'happy';
					score = 80;
					label = 'æƒ…ç»ªè‰¯å¥½';
					color = '#32CD32';
					analysisSummary += 'æ‚¨ç›®å‰æƒ…ç»ªçŠ¶æ€è‰¯å¥½ï¼Œè¯·ç»§ç»­ä¿æŒã€‚\n';
					generatedSuggestions = [
						'ç»§ç»­ä¿æŒç§¯æä¹è§‚çš„å¿ƒæ€ã€‚',
						'å¯ä»¥å°†æ‚¨çš„å¥½å¿ƒæƒ…åˆ†äº«ç»™èº«è¾¹çš„äººã€‚',
						'ä¿æŒå¥åº·çš„ç”Ÿæ´»ä¹ æƒ¯ï¼Œäº«å—ç”Ÿæ´»ã€‚',
					];
				}
			} else if (scaleType === 'PHQ9') {
				// ç®€åŒ–PHQ-9çš„è¯„ä¼°ï¼ŒçœŸå®æƒ…å†µéœ€è¦æ›´å¤æ‚çš„é€»è¾‘
				if (totalScore >= 15) {
					dominantEmotion = 'sad';
					score = 25;
					label = 'ä¸­åº¦è‡³é‡åº¦æŠ‘éƒ';
					color = '#DC143C';
					analysisSummary += 'æ‚¨çš„æŠ‘éƒç—‡çŠ¶å¯èƒ½è¾ƒæ˜æ˜¾ï¼Œå»ºè®®åŠæ—¶å¯»æ±‚ä¸“ä¸šå¸®åŠ©ã€‚\n';
					generatedSuggestions = [
						'å¼ºçƒˆå»ºè®®å’¨è¯¢å¿ƒç†å¥åº·ä¸“ä¸šäººå£«ï¼Œè¿›è¡Œè¿›ä¸€æ­¥è¯„ä¼°å’Œå¹²é¢„ã€‚',
						'é¿å…å­¤ç«‹ï¼Œå°è¯•ä¸æ”¯æŒæ‚¨çš„æœ‹å‹æˆ–å®¶äººä¿æŒè”ç³»ã€‚',
						'åŸ¹å…»ä¸€äº›å…´è¶£çˆ±å¥½ï¼Œåˆ†æ•£æ³¨æ„åŠ›ï¼Œç¼“è§£è´Ÿé¢æƒ…ç»ªã€‚',
					];
				} else if (totalScore >= 5) {
					dominantEmotion = 'anxious';
					score = 50;
					label = 'è½»åº¦æŠ‘éƒ';
					color = '#FF8C00';
					analysisSummary += 'æ‚¨å¯èƒ½å­˜åœ¨è½»åº¦æŠ‘éƒç—‡çŠ¶ï¼Œå»ºè®®æ‚¨ä¿æŒå…³æ³¨å’Œè‡ªæˆ‘è°ƒèŠ‚ã€‚\n';
					generatedSuggestions = [
						'å°è¯•è°ƒæ•´ä½œæ¯ï¼Œä¿è¯å……è¶³çš„ç¡çœ ã€‚',
						'è¿›è¡Œè§„å¾‹çš„æˆ·å¤–æ´»åŠ¨ï¼Œå¦‚æ•£æ­¥ã€è·‘æ­¥ï¼Œæ¥è§¦è‡ªç„¶ã€‚',
						'å­¦ä¹ æƒ…ç»ªç®¡ç†æŠ€å·§ï¼Œå¦‚å†¥æƒ³ã€æ”¾æ¾è®­ç»ƒã€‚',
					];
				} else {
					dominantEmotion = 'happy';
					score = 90;
					label = 'æ— æŠ‘éƒç—‡çŠ¶';
					color = '#008000';
					analysisSummary += 'æ‚¨æ²¡æœ‰æ˜æ˜¾çš„æŠ‘éƒç—‡çŠ¶ï¼Œæƒ…ç»ªçŠ¶æ€è‰¯å¥½ã€‚\n';
					generatedSuggestions = [
						'ç»§ç»­ä¿æŒç§¯æå¥åº·çš„ç”Ÿæ´»æ–¹å¼ã€‚',
						'å®šæœŸè¿›è¡Œå¿ƒç†å¥åº·è‡ªæŸ¥ï¼Œå…³æ³¨æƒ…ç»ªå˜åŒ–ã€‚',
					];
				}
			}

			this.mainEmotion = dominantEmotion;
			this.emotionLabel = label;
			this.emotionScore = score;
			this.scoreColor = color;
			this.analysisText = analysisSummary + '\n\nä»¥ä¸‹æ˜¯æ‚¨çš„è¯¦ç»†ç­”æ¡ˆï¼š\n' + JSON.stringify(this.rawResults.answers, null, 2);
			this.suggestions = generatedSuggestions;
		},
		
		// ç”Ÿæˆå¤‡ç”¨æ•°æ®ï¼ˆå½“æ²¡æœ‰æ¥æ”¶åˆ°çœŸå®æ•°æ®æ—¶ï¼‰
		generateFallbackData() {
			this.scaleTypeTitle = 'æœªçŸ¥é‡è¡¨';
			this.mainEmotion = 'neutral';
			this.emotionLabel = 'å¹³é™';
			this.emotionScore = 60;
			this.scoreColor = '#808080';
			this.analysisText = 'æœªèƒ½åŠ è½½å…·ä½“çš„åˆ†æç»“æœã€‚è¯·ç¡®ä¿å·²å®Œæˆé‡è¡¨æµ‹è¯„ã€‚\n\nå¦‚æœé—®é¢˜æŒç»­å­˜åœ¨ï¼Œè¯·è”ç³»æŠ€æœ¯æ”¯æŒã€‚';
			this.suggestions = [
				'è¯·è¿”å›é‡è¡¨é¡µé¢å®Œæˆæµ‹è¯„ã€‚',
				'å¦‚æœæ‚¨å·²å®Œæˆæµ‹è¯„ï¼Œè¯·å°è¯•åˆ·æ–°é¡µé¢ã€‚'
			];
		},
		
		shareResult() {
			uni.showToast({
				title: 'åˆ†äº«åŠŸèƒ½å¼€å‘ä¸­',
				icon: 'none'
			})
		},
		
		findProfessional() {
			uni.showToast({
				title: 'é¢„çº¦åŠŸèƒ½å¼€å‘ä¸­',
				icon: 'none'
			})
		}
	}
}
</script>

<style scoped>
.container {
	min-height: 100vh;
	background-color: #050410;
	background-image:
		radial-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 0),
		linear-gradient(-45deg, #4f00bc, #7d1b7e, #0f0c29, #2a0845, #12c2e9);
	background-size:
		4px 4px,
		400% 400%;
	animation: gradient-bg 8s ease infinite;
	display: flex;
	flex-direction: column;
	align-items: center;
	padding: 40rpx 30rpx;
	box-sizing: border-box;
	position: relative;
	overflow-y: auto;
	padding-bottom: 100rpx; /* åº•éƒ¨ç•™ç™½ï¼Œé¿å…å†…å®¹è¢«tabbaré®æŒ¡ */
}

.container::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background:
		radial-gradient(circle at 20% 30%, rgba(79, 0, 188, 0.3) 0%, transparent 50%),
		radial-gradient(circle at 80% 70%, rgba(18, 194, 233, 0.3) 0%, transparent 50%);
	animation: pulse-bg 15s ease-in-out infinite alternate;
	z-index: 0;
}

@keyframes gradient-bg {
	0% {
		background-position: 0% 50%;
	}

	50% {
		background-position: 100% 50%;
	}

	100% {
		background-position: 0% 50%;
	}
}

@keyframes pulse-bg {
	0% {
		opacity: 0.5;
		transform: scale(1);
	}
	50% {
		opacity: 0.7;
		transform: scale(1.05);
	}
	100% {
		opacity: 0.5;
		transform: scale(1);
	}
}

.back-button {
	position: absolute;
	top: 60rpx;
	left: 30rpx;
	display: flex;
	align-items: center;
	color: white;
	font-size: 30rpx;
	z-index: 10;
	background: rgba(255, 255, 255, 0.1);
	padding: 10rpx 20rpx;
	border-radius: 20rpx;
	backdrop-filter: blur(5rpx);
	-webkit-backdrop-filter: blur(5rpx);
	transition: all 0.3s ease;
	box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.2);
}

.back-button:active {
	transform: scale(0.95);
	opacity: 0.8;
	box-shadow: 0 1rpx 5rpx rgba(0, 0, 0, 0.3);
}

.back-icon {
	font-size: 40rpx;
	margin-right: 10rpx;
}

.back-text {
	font-size: 30rpx;
}

.header {
	width: 100%;
	padding: 20rpx;
	margin-bottom: 40rpx;
	display: flex;
	justify-content: center;
	position: relative;
	z-index: 1;
}

.title {
	color: white;
	font-size: 36rpx;
	text-align: center;
	text-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.3);
}

/* åˆå§‹çŠ¶æ€æ ·å¼ */
.initial-state {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	min-height: 50vh;
	width: 90%;
	max-width: 600rpx;
	background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
	border-radius: 30rpx;
	padding: 60rpx 40rpx;
	box-shadow: 0 10rpx 40rpx rgba(0, 0, 0, 0.5);
	text-align: center;
	margin-top: 100rpx;
	backdrop-filter: blur(10rpx);
	-webkit-backdrop-filter: blur(10rpx);
	border: 1rpx solid rgba(255, 255, 255, 0.2);
}

.initial-text {
	font-size: 36rpx;
	color: #fff;
	margin-bottom: 60rpx;
	text-shadow: 0 2rpx 5rpx rgba(0, 0, 0, 0.3);
}

.generate-button {
	background: linear-gradient(90deg, #6b5b95, #4f00bc); /* ç´«è‰²æ¸å˜ */
	color: white;
	padding: 30rpx 60rpx;
	border-radius: 20rpx;
	font-size: 36rpx;
	font-weight: bold;
	box-shadow: 0 8rpx 20rpx rgba(0, 0, 0, 0.4);
	transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
	border: none;
	outline: none;
	position: relative; /* ç”¨äºä¼ªå…ƒç´  */
	overflow: hidden;
}

.generate-button::before {
	content: '';
	position: absolute;
	top: 0;
	left: -100%;
	width: 100%;
	height: 100%;
	background: rgba(255, 255, 255, 0.2); /* é—ªå…‰æ•ˆæœ */
	transform: skewX(-20deg);
	transition: all 0.7s;
}

.generate-button:hover::before {
	left: 100%;
}

.generate-button:active {
	transform: scale(0.95);
	box-shadow: 0 4rpx 10rpx rgba(0, 0, 0, 0.5);
	opacity: 0.9;
}

.generate-button:disabled {
	background: #888; /* ç°è‰² */
	cursor: not-allowed;
	box-shadow: none;
	transform: scale(1);
	opacity: 0.7;
}

.privacy-note {
	display: flex;
	align-items: center;
	margin-top: 50rpx;
	color: #ccc;
	font-size: 26rpx;
}

.privacy-icon {
	margin-right: 10rpx;
}

.main-content {
	width: 100%;
	flex: 1;
	display: flex;
	flex-direction: column;
	align-items: center;
	position: relative;
	z-index: 1;
	gap: 30rpx; /* å¡ç‰‡ä¹‹é—´çš„é—´è· */
}

.result-summary, .score-card, .details-card, .suggestion-card {
	width: 92%;
	max-width: 650rpx;
	background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.98));
	border-radius: 25rpx;
	padding: 40rpx;
	box-shadow: 0 10rpx 30rpx rgba(0, 0, 0, 0.4);
	text-align: center;
	position: relative;
	z-index: 1;
}

.emotion-icon {
	font-size: 100rpx;
	margin-bottom: 20rpx;
	animation: bounce-in 0.8s ease-out;
}

.emotion-label {
	font-size: 40rpx;
	font-weight: bold;
	color: #333;
	text-shadow: 0 2rpx 5rpx rgba(0, 0, 0, 0.1);
}

.score-title, .details-title, .suggestion-title {
	font-size: 34rpx;
	font-weight: bold;
	color: #333;
	margin-bottom: 20rpx;
	padding-bottom: 10rpx;
	border-bottom: 1rpx solid #eee;
}

.score-container {
	display: flex;
	flex-direction: column;
	align-items: center;
	margin-bottom: 20rpx;
}

.score-number {
	font-size: 80rpx;
	font-weight: bold;
	color: #4f00bc;
	margin-bottom: 10rpx;
	text-shadow: 0 4rpx 10rpx rgba(0, 0, 0, 0.2);
}

.score-bar {
	width: 100%;
	height: 20rpx;
	background-color: #eee;
	border-radius: 10rpx;
	overflow: hidden;
}

.score-progress {
	height: 100%;
	border-radius: 10rpx;
	transition: width 1s ease-out;
	animation: progress-fill 1s ease-out;
}

@keyframes progress-fill {
	from { width: 0%; }
	to { width: var(--score-width); }
}

.score-labels {
	display: flex;
	justify-content: space-between;
	width: 100%;
	font-size: 24rpx;
	color: #666;
	margin-top: 5rpx;
}

.details-text {
	font-size: 28rpx;
	color: #555;
	line-height: 1.6;
	text-align: left;
	white-space: pre-wrap; /* ä¿ç•™æ¢è¡Œç¬¦ */
}

.suggestion-item {
	display: flex;
	align-items: flex-start;
	margin-bottom: 15rpx;
	text-align: left;
}

.suggestion-number {
	background-color: #6b5b95;
	color: white;
	border-radius: 50%;
	width: 40rpx;
	height: 40rpx;
	display: flex;
	justify-content: center;
	align-items: center;
	font-size: 24rpx;
	font-weight: bold;
	margin-right: 15rpx;
	flex-shrink: 0;
}

.suggestion-text {
	font-size: 28rpx;
	color: #555;
	line-height: 1.6;
	flex: 1;
}

.bottom-buttons {
	display: flex;
	justify-content: space-around;
	width: 92%;
	max-width: 650rpx;
	margin-top: 40rpx;
	margin-bottom: 60rpx;
	gap: 20rpx;
}

.button {
	flex: 1;
	padding: 25rpx 0;
	border-radius: 15rpx;
	font-size: 32rpx;
	font-weight: bold;
	text-align: center;
	box-shadow: 0 5rpx 15rpx rgba(0, 0, 0, 0.3);
	transition: all 0.3s ease;
}

.button:active {
	transform: scale(0.95);
	box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.4);
	opacity: 0.9;
}

.primary-button {
	background: linear-gradient(90deg, #4f00bc, #7d1b7e);
	color: white;
}

.secondary-button {
	background: linear-gradient(90deg, #888, #666);
	color: white;
}

/* åŠ¨ç”» */
@keyframes fade-in {
  from { opacity: 0; transform: translateY(20rpx); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in {
  animation: fade-in 0.6s ease-out forwards;
}

@keyframes slide-in {
	from { 
		opacity: 0;
		transform: translateY(20rpx);
	}
	to { 
		opacity: 1;
		transform: translateY(0);
	}
}
.animate-slide-in {
	animation: slide-in 0.6s ease-out forwards;
	animation-delay: calc(var(--i) * 0.1s); /* å»¶è¿ŸåŠ¨ç”» */
}

@keyframes bounce-in {
  0% { opacity: 0; transform: scale(0.5); }
  70% { opacity: 1; transform: scale(1.1); }
  100% { transform: scale(1); }
}
.animate-bounce-in {
  animation: bounce-in 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
}
</style> 